import{_ as D,b as L,u as N,a as U,r as d,d as O,$ as V,e as r,w as Q,f as F,g as M,h as s,i as T,o as S,c as A,j as o,k as G,l as H,m as i,n as t,t as u,p as c,q as J,s as K,v as P}from"./index.014e1043.js";var W="./assets/RackShift-black.43574f26.png";const _=g=>(K("data-v-e79bba4a"),g=g(),P(),g),X={class:"login-background"},Y={class:"login-container"},Z=_(()=>o("div",{class:"login-logo"},[o("img",{src:W,alt:""})],-1)),ee={class:"login-title"},ae=_(()=>o("div",{class:"login-border"},null,-1)),oe={class:"login-welcome"},ne={class:"login-form"},te={class:"login-btn"},ie={class:"login-msg"},le=_(()=>o("div",{class:"login-image"},null,-1)),re={__name:"index",setup(g){const{user:q}=L(),z=N(),B=U(),b=d(),p=d(!1),l=O({username:"admin",password:"123456"}),R={username:[{required:!0,message:V("commons.validate.input","login.username"),trigger:"blur"}],password:[{required:!0,message:V("commons.validate.input","login.password"),trigger:"blur"},{min:6,max:30,message:r("commons.validate.limit",[6,30]),trigger:"blur"}]},v=d(""),x=d(void 0),f=d({});Q(z,a=>{const e=a.query;e&&(x.value=e.redirect,f.value=E(e))},{immediate:!0}),F(()=>{document.addEventListener("keydown",h)}),M(()=>{document.removeEventListener("keydown",h)});function h(a){a.key==="Enter"&&w(b)}function w(a){!a||a.validate(e=>{if(e)p.value=!0,q.userLogin(l).then(()=>{B.push({path:x.value||"/",query:f.value}),p.value=!1}).catch(n=>{v.value=n.message,p.value=!1});else return!1})}function E(a){return Object.keys(a).reduce((e,n)=>(n!=="redirect"&&(e[n]=a[n]),e),{})}return(a,e)=>{const n=s("el-input"),y=s("el-form-item"),I=s("el-button"),$=s("el-form"),k=s("el-col"),j=s("el-row"),C=T("loading");return S(),A("div",X,[o("div",Y,[G((S(),H(j,{type:"flex"},{default:i(()=>[t(k,{span:12},{default:i(()=>[t($,{model:l,rules:R,ref_key:"formRef",ref:b,size:"default"},{default:i(()=>[Z,o("div",ee,u(c(r)("login.title")),1),ae,o("div",oe,u(c(r)("login.welcome")),1),o("div",ne,[t(y,{prop:"username"},{default:i(()=>[t(n,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=m=>l.username=m),placeholder:c(r)("login.username"),autofocus:""},null,8,["modelValue","placeholder"])]),_:1}),t(y,{prop:"password"},{default:i(()=>[t(n,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=m=>l.password=m),placeholder:c(r)("login.password"),"show-password":"",maxlength:"30","show-word-limit":"",autocomplete:"new-password"},null,8,["modelValue","placeholder"])]),_:1})]),o("div",te,[t(I,{type:"primary",class:"submit",onClick:e[2]||(e[2]=m=>w(b.value)),size:"default"},{default:i(()=>[J(u(c(r)("commons.button.login")),1)]),_:1})]),o("div",ie,u(v.value),1)]),_:1},8,["model"])]),_:1}),t(k,{span:12},{default:i(()=>[le]),_:1})]),_:1})),[[C,p.value]])])])}}};var de=D(re,[["__scopeId","data-v-e79bba4a"]]);export{de as default};
